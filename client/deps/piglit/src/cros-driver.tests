#!/usr/bin/env python
# -*- coding: utf-8 -*-

import re
import subprocess

from framework.core import *
from framework.exectest import *
from framework.gleantest import *

execfile(os.path.dirname(__file__) + '/quick.tests')

# These don't test the driver
del profile.tests['glslparsertest']
del profile.tests['asmparsertest']

# These take too long
del profile.tests['glean']['blendFunc']
del profile.tests['glean']['depthStencil']
del profile.tests['glean']['pointAtten']
del profile.tests['shaders']['glsl-fs-inline-explosion']
del profile.tests['shaders']['glsl-fs-unroll-explosion']
del profile.tests['shaders']['glsl-vs-inline-explosion']
del profile.tests['shaders']['glsl-vs-unroll-explosion']
del profile.tests['texturing']['streaming-texture-leak']

# IHF: this test runs with too much memory on my 64 bit dev system
del profile.tests['texturing']['tex3d-maxsize']

# This test is nonsense
del profile.tests['glean']['exactRGBA']

# IHF: this test hangs testing
del profile.tests['general']['longprim']
del profile.tests['glx']['glx-make-glxdrawable-current']
#del profile.tests['glean']
del profile.tests['shaders']['glsl-texcoord-array']

# IHF: bug 19813 - x86-generic crashes/hangs blacklisted (roughly declining order of badness)
del profile.tests['spec']['glsl-1.10']['execution']['samplers']['in-parameter']
del profile.tests['spec']['glsl-1.10']['execution']['samplers']['in-parameter-struct']
del profile.tests['spec']['glsl-1.10']['execution']['samplers']['normal-parameter']
del profile.tests['spec']['glsl-1.10']['execution']['samplers']['normal-parameter-struct']
del profile.tests['general']['bgra-sec-color-pointer']
del profile.tests['general']['array-stride']
del profile.tests['fbo']['fbo-rg-GL_RED']
del profile.tests['fbo']['fbo-rg-GL_R8']
del profile.tests['fbo']['fbo-rg-GL_R16']
del profile.tests['fbo']['fbo-rg-GL_RG']
del profile.tests['fbo']['fbo-rg-GL_RG8']
del profile.tests['fbo']['fbo-rg-GL_RG16']

# IHF: This test crashed on lumpy during checkout.
del profile.tests['texturing']['max-texture-size']

# IHF: These tests cause hangchecks on lumpy/stumpy and often many crashes and a loss
# of hardware acceleration later. See crosbug.com/30809.
del profile.tests['spec']['glsl-1.30']['execution']['fs-discard-exit-1']
del profile.tests['spec']['glsl-1.30']['execution']['fs-discard-exit-2']
