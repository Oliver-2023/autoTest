# Copyright 2018 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

PY_VERSION = 3
AUTHOR = "chromeos-gfx"
NAME = "graphics_Chrome.ozone_gl_unittests"
TIME = "SHORT"
TEST_CATEGORY = "Functional"
TEST_CLASS = "graphics"
TEST_TYPE = "client"
METADATA = {
  "contacts": [
    "chromeos-gfx@google.com"
  ],
  "bug_component": "b:885255",
  "criteria": "Chrome unittests should pass."
}


ATTRIBUTES = "suite:bvt-perbuild, suite:distributed_lab_qual_bvt_shard2"

UNITTESTS_BINARY_NAME = 'ozone_gl_unittests'
# Execution timeout: very generous since its goal is to avoid hangs.
TIMEOUT_SECONDS = 300
DOC = """
Runs ozone_gl_unittests.  This is a simple binary that initializes Ozone - DRM
and uses it to create a DmaBuf NativePixmap and allocate a GLImageEGL.
"""

job.run_test('graphics_Chrome',
             unittests_binary_name=UNITTESTS_BINARY_NAME,
             unittests_timeout=TIMEOUT_SECONDS)
