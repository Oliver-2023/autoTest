# Copyright 2021 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

AUTHOR = "Ambalavanan M M <ambalavanan.m.m@intel.com>"
NAME = "audio_AudioPlaybackStress.audio_bronze"
PURPOSE = "Verify the local Audio playback for longer hours."
CRITERIA = "This test will fail if audio is not audible or DUT hang."
ATTRIBUTES = "suite:audio_bronze"
TIME = "LONG"
TEST_CATEGORY = "stress"
TEST_CLASS = "audio"
TEST_TYPE = "client"
JOB_RETRIES = 1
TEST_CASE_ID="audio_player"
EXTENDED_TIMEOUT=43300 # Adding 100 to allow some time for test to start/stop

DOC = """
This test starts the local Audio playback with multiple WAV format audio
file in loop and verifies the playback continuously for every specific
intervals of time.

TEST STEPS:
Description:
Verify if local WAV Audio playback for long duration and playback plays fine
on Onboard Speakers without issues.

Test Steps:
1. Boot the Chromebook and enter credentials to login into Chrome OS.
2. Generate multiple WAV audio file and play from eMMC (Downloads).
3. Repeat the audio playback for longer duration through Internal speaker.

Milestone criteria:
Bronze: 6 hours
Silver: 9 hours
Gold: 12 hours

Verification Steps:
Audio playback should play fine on Internal speaker without any issues and
Chromebook should not get hang/crash or reboot/shutdown.
"""

job.run_test('audio_AudioPlaybackStress',test_duration=6*60*60,tag=TEST_CASE_ID)
