# Copyright 2017 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# Description
# This test will search /var/log/messages for pertinent strings to determine if
# the cpu is sleeping. It will wait for a number of seconds before suspending to
# ram. It will then calculate how many seconds the system was suspended, and
# how many seconds it took to resume. It will also parse the ARC logcat to measure
# how many seconds it took for ARC to suspend and then resume. As a precaution it
# will ensure your network interface is UP after it has resumed.

NAME = "power_UiResume.resume_constraint"
METADATA = {
    "contacts": ["chromeos-platform-power@google.com"],
    "author": "ChromeOS Team",
    "bug_component": "b:167191",
    "criteria": "This test is a benchmark test",
    "hw_agnostic": False,
}
ATTRIBUTES = ("suite:hwqual")
TEST_TYPE = "client"

job.run_test('power_UiResume', constraints=['seconds_system_resume <= 1.0'])
