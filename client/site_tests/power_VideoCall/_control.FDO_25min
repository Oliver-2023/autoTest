AUTHOR = "puthik"
NAME = "power_VideoCall.FDO_25min"
PURPOSE = "Simulates video call multitasking."

# TEST IS DISABLED UNTIL MIGRATED TO PYTHON 3.
# For instructions on how to: go/tauto-py3-migration
# To re-enable migrate to Python 3.
# If the test is not migrated by 1/14/22 it will be deleted.

CRITERIA = "This test is a benchmark."
TIME = "LENGTHY"
TEST_CATEGORY = "Benchmark"
TEST_CLASS = "power"
TEST_TYPE = "client"
ATTRIBUTES = "suite:power_daily"

DOC = """
This test simulates video call multitasking and record power related statistics
while optionally force discharge.

Workload
- Camera preview in 720p using VP9 codec.
- Four 720p 30fps video playback with two VP8 videos and two VP9 videos.
- Google Doc with emulated typing.

The version runs for 25 minutes as it is common duration of the video call.

"FDO" is short for "force discharge optional." Test will use EC command to
force DUT to discharge. If it fails, then use AC as the power source.
"""

args_dict = utils.args_to_dict(args)
pdash_note = args_dict.get('pdash_note', '')
job.run_test('power_VideoCall', pdash_note=pdash_note, duration=1500,
             tag=NAME.split('.')[1], force_discharge='optional')
