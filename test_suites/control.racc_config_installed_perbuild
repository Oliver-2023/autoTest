# Copyright 2023 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

AUTHOR = "clarkchung@google.com, chromeos-runtime-probe@google.com"
NAME = "racc_config_installed_perbuild"
PURPOSE = "RACC tests for DUTs with probe config installed"
TIME = "SHORT"
TEST_CATEGORY = "Functional"
TEST_CLASS = "suite"
TEST_TYPE = "Server"

METADATA = {
    'contacts': [
        'chromeos-runtime-probe@google.com',
        'clarkchung@google.com',
    ],
    'bug_component': 'b:606088',
    'criteria': ('Medium, this test runs several RACC related tast tests to '
                 'verify if the probe configs align with the HW comp.'),
    'hw_agnostic': False,
}


DOC = """
ChromeOS RACC tests.

This suite is used as an entry point for racc_config_installed_perbuild, which
passes cros labels in host info store as references to runtime probe tast tests
for comparison with probed component names.
"""

import common
from autotest_lib.server.cros.dynamic_suite import dynamic_suite


args_dict['max_runtime_mins'] = 10
args_dict['timeout_mins'] = 10
args_dict['job'] = job
args_dict['name'] = NAME
args_dict['add_experimental'] = True

dynamic_suite.reimage_and_run(**args_dict)
